import webbrowser
import pandas as pd
from alpha_vantage.timeseries import TimeSeries
import time
import pyttsx3
px=pyttsx3.init()
def link():
        print("Do you want to see some of the top performing \nbonds : 1\nstocks:2\nfixed income:3")
        i=input()
        px.say("WAIT A SECOND...")
        px.runAndWait()
        if(i=='1'):
            webbrowser.open('https://www.etmoney.com/mutual-funds/debt/corporate-bond/61')
        elif(i=='2'):
            webbrowser.open('https://groww.in/markets/top-gainers?index=GIDXNIFTY100')
        elif(i=='3'):
            webbrowser.open('https://www.moneycontrol.com/fixed-income/best-fixed-income-rates/?classic=true')

        print("Do you want to see any more information enter 'y' else 'n'")
        if input()=='y':
            link()
        else:
            #print("THANK YOU")
            menu()
def idea():
    n=int(input("enter your salary"))
    px.say("NOTE THE BELOW SUGGESTION ARE BASED ON SOME MATHEMATICAL MODEL WE ARE NOT INFLUENCING OR WANT YOU TO INVEST. MAKE YOUR OWN RESEARCH BEFORE INVESTING")
    px.runAndWait()
    print("!!!NOTE THE BELOW SUGESSTION ARE BASED ON SOME MATHEMATICAL MODEL WE ARE NOT INFLUENCING OR WANT YOU TO INVEST. MAKE YOUR OWN RESEARCH BEFORE INVESTING!!!")
    p=int(n*.15)
    s=input("Risk level you can take\n"
            "if High then (enter h)\n"
            "if Moderate risk (enter m)\n"
            "if Low risk (enter l)").lower()
    if s=='l':
        print("inverst "+str(p*.2)+"in stocks")
        print("inverst "+str(p*.6)+"in fixed income(like govermen t bonds,term deposit,fised deposit,gold soverign bonds)")
        print("inverst "+str(p*.2)+"in mutual funds(comparitivly less risk in NIFTY50)")
        print("Do you want to see some of the top performing stocks ,bonds , mutual funds etc...\nif yes enter 'y'")

    elif s=='m':
        print("inverst " + str(p*.3) + "in stocks")
        print("inverst " + str(p*.4) + "in fixed income(like goverment bonds,term deposit,fised deposit)")
        print("inverst " + str(p*.3) + "in mutual funds(comparitivly less risk in NIFTY50)")
        print("Do you want to see some of the top performing stocks ,bonds , mutual funds etc...\nif yes enter 'y'")

    elif s=='h':
        print("inverst " + str(p*.3) + "in stocks")
        print("inverst " + str(p*.1)  + "in US stocks")
        print("inverst " + str(p*.2) + "in fixed income(like goverment bonds,term deposit,fised deposit)")
        print("inverst " + str(p*.4) + "in mutual funds(comparitivly less risk in NIFTY50)")
        print("Do you want to see some of the top performing stocks ,bonds , mutual funds etc...\nif yes enter 'y'")
    if input().lower().strip()=='y':
        link()
    else:
        px.say("Start your investment TODAY. DO NOT regret in future")
        px.runAndWait()
        print("Start your investment TODAY!! DO NOT regret in future")
        menu()
def track():
    api_key = '9B3RPQVRIOXMBDWP'
    ts = TimeSeries(key=api_key, output_format='pandas')
    sy=input("enter the ticker to keep in track ").upper()
    amount=float(input("enter the amount you initially invested for buying one stock: "))
    no_of_stocks=float(input("enter the number of stocks you buyed: "))
    data,m_d= ts.get_intraday(symbol=sy, interval='5min')
    print(data)
    print("Today's close price: ")
    print(data['4. close'][0])
    #print("Today's last open price:")
    #print(data['1. open'][-1])
    c = float(((data['4. close'][0]) - (data['1. open'][-1]))/100)
    h=float(max(data['2. high']))
    l=float(min(data['3. low']))
    print("Highest price of the day: ",h)
    print("Lowest price of the day: ",l)
    print("if you like to sell this stock then ")
    profit_loss=float((data['4. close'][0]-amount)*no_of_stocks)
    if(profit_loss>0):
        print("your profit will be",profit_loss)
    else:
        print("you are gonna loss",abs(profit_loss))
    print("price difference",c)
    if abs(c) > .2:
        print("there is a jump")
    else:
        print("almost the same")
    tr = input("if you want to continue (enter y) if not (enter n)").lower().strip()
    print(tr)
    if tr == 'y':
        track()
    else:
        px.say("THANK YOU")
        px.runAndWait()
        print('THANK YOU')
def menu():
    print("TO GET AN IDEA AND SUGGESTION ABOUT INVESTING (ENTER IDEA)")
    print("TO TRACK YOUR OWN STOCKS (ENTER TRACK)")
    print("TO EXIT (ENTER EXIT)")
print("STOCK TRACKING AND INVESTMENT IDEAS")
px.say("welcome")
px.runAndWait()
menu()
option=input("enter your option :").lower().strip()
while option!='exit':
    if option =='idea':
        idea()
    elif option =='track':
        track()
    else:
        px.say("invalid input")
        px.runAndWait()
        print("invalid!!! input ")

    print()
    menu()
    option = input("enter your option :").lower().strip()
px.say("THANK YOU")
px.runAndWait()
print("THANK YOU")
